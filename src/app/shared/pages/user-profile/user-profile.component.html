<div class="profile-container">
  <div class="profile-box">
    <button class="back-home-btn" (click)="goToHome()">🏠 Home</button>

    <img [src]="user?.photoURL || '../../assets/images/default-user.png'" 
         alt="User Avatar" class="user-avatar">

    <div class="profile-info">
      <div class="name-section">
        <strong>Name:</strong>
        <input *ngIf="editingName" class="name-input" [(ngModel)]="newName">
        <span *ngIf="!editingName">{{ user?.displayName || "Anonymous" }}</span>
        
        <button class="edit-btn" (click)="toggleEdit()">
          {{ editingName ? 'Save' : 'Edit' }}
        </button>
      </div>

      <p><strong>Email:</strong> {{ user?.email }}</p>

      <h3>User Activity</h3>
      <div class="chart-wrapper">
        <ngx-charts-bar-horizontal
          [view]="[800, 400]"
          [scheme]="colorScheme"
          [results]="userActivityData"
          [gradient]="false"
          [xAxis]="true"
          [yAxis]="true"
          [legend]="false"
          [showXAxisLabel]="true"
          [showYAxisLabel]="true"
          xAxisLabel="Date"
          yAxisLabel="Contributions">
        </ngx-charts-bar-horizontal>
      </div>
    </div>

    <button class="logout-btn" (click)="logout()">Logout</button>
  </div>
</div>
